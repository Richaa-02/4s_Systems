<!DOCTYPE html>
<html>
<head>
    <title>Sales Report Charts</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h2 class="mb-0">Sales Analytics & Charts</h2>
            <a href="{{ url_for('sales_dashboard') }}" class="btn btn-secondary">‚Üê Back to Dashboard</a>
        </div>
        <div class="row g-4">
            <div class="col-md-6">
                <div class="card h-100 shadow-sm">
                    <div class="card-header text-center fw-bold">Bar Chart</div>
                    <div class="card-body d-flex justify-content-center align-items-center">
                        <img id="barChart" class="img-fluid" alt="Bar Chart">
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card h-100 shadow-sm">
                    <div class="card-header text-center fw-bold">Pie Chart</div>
                    <div class="card-body d-flex justify-content-center align-items-center">
                        <img id="pieChart" class="img-fluid" alt="Pie Chart">
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card h-100 shadow-sm">
                    <div class="card-header text-center fw-bold">Donut Chart</div>
                    <div class="card-body d-flex justify-content-center align-items-center">
                        <img id="donutChart" class="img-fluid" alt="Donut Chart">
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card h-100 shadow-sm">
                    <div class="card-header text-center fw-bold">Line Chart</div>
                    <div class="card-body d-flex justify-content-center align-items-center">
                        <img id="lineChart" class="img-fluid" alt="Line Chart">
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card h-100 shadow-sm">
                    <div class="card-header text-center fw-bold">Heatmap</div>
                    <div class="card-body d-flex justify-content-center align-items-center">
                        <img id="heatmapChart" class="img-fluid" alt="Heatmap">
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card h-100 shadow-sm">
                    <div class="card-header text-center fw-bold">Box Plot</div>
                    <div class="card-body d-flex justify-content-center align-items-center">
                        <img id="boxChart" class="img-fluid" alt="Box Plot">
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card h-100 shadow-sm">
                    <div class="card-header text-center fw-bold">Violin Plot</div>
                    <div class="card-body d-flex justify-content-center align-items-center">
                        <img id="violinChart" class="img-fluid" alt="Violin Plot">
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        const charts = [
            {type: 'bar', id: 'barChart'},
            {type: 'pie', id: 'pieChart'},
            {type: 'donut', id: 'donutChart'},
            {type: 'line', id: 'lineChart'},
            {type: 'heatmap', id: 'heatmapChart'},
            {type: 'box', id: 'boxChart'},
            {type: 'violin', id: 'violinChart'}
        ];
        charts.forEach(chart => {
            fetch(`/sales_report_chart?type=${chart.type}`)
                .then(response => response.blob())
                .then(blob => {
                    const url = URL.createObjectURL(blob);
                    document.getElementById(chart.id).src = url;
                });
        });
    });
    </script>
</body>
</html>